<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timetable CSP Generator</title>
    <link rel="stylesheet" href="style.css?v=2">
</head>

<body>
    <div class="container">
        <header>
            <h1>Timetable CSP Generator</h1>

        </header>

        <div class="academic-structure">
            <h2>Academic Structure</h2>
            <div class="structure-info">
                <div class="structure-item">
                    <strong>1 Year = 3 Groups</strong>
                    <span>Each group contains 3 sections</span>
                </div>
                <div class="structure-item">
                    <strong>4 Days per Year</strong>
                    <span>Each year has 1 rest day out of 5</span>
                </div>
                <div class="structure-item">
                    <strong>Lectures:</strong>
                    <span>Whole group (3 sections together)</span>
                </div>
                <div class="structure-item">
                    <strong>Labs:</strong>
                    <span>Each section separately</span>
                </div>
                <div class="structure-item">
                    <strong>Tutorials:</strong>
                    <span>Each section separately (half time slot)</span>
                </div>
            </div>
        </div>

        <div class="controls">
            <button id="loadDataBtn" class="btn btn-secondary">Load Data Summary</button>
            <button id="validateBtn" class="btn btn-secondary">Validate Data</button>
            <button id="generateBtn" class="btn btn-primary">Generate Timetable</button>
        </div>

        <div id="status" class="status"></div>

        <div id="dataSummary" class="data-summary" style="display: none;">
            <h3>Data Summary</h3>
            <div id="summaryContent"></div>
        </div>

        <div id="validationResults" class="validation-results" style="display: none;">
            <h3>Validation Results</h3>
            <div id="validationContent"></div>
        </div>

        <div id="timetableContainer" class="timetable-container" style="display: none;">
            <h3>Generated Timetable</h3>

            <div class="view-controls">
                <button id="tableViewBtn" class="btn btn-small active">Table View</button>
                <button id="dayViewBtn" class="btn btn-small">Day View</button>
                <button id="gridViewBtn" class="btn btn-small">Grid View</button>
                <button id="downloadBtn" class="btn btn-small btn-primary" style="margin-left: auto;">Download
                    PDF</button>
                <button id="downloadExcelBtn" class="btn btn-small btn-success"
                    style="margin-left: 10px; background-color: #217346; border-color: #1e6b41;">Download Excel</button>
            </div>

            <div class="filter-controls">
                <h4>Filter by Year</h4>
                <div class="year-filters">
                    <label class="filter-checkbox">
                        <input type="checkbox" id="year1Filter" checked>
                        <span class="checkmark year-1-check"></span>
                        Year 1
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" id="year2Filter" checked>
                        <span class="checkmark year-2-check"></span>
                        Year 2
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" id="year3Filter" checked>
                        <span class="checkmark year-3-check"></span>
                        Year 3
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" id="year4Filter" checked>
                        <span class="checkmark year-4-check"></span>
                        Year 4
                    </label>
                    <button id="selectAllYears" class="btn btn-small">Select All</button>
                    <button id="clearAllYears" class="btn btn-small">Clear All</button>
                </div>
            </div>

            <div id="tableView" class="table-view">
                <div class="table-container">
                    <table id="timetableTable">
                        <thead>
                            <tr>
                                <th>Course</th>
                                <th>Type</th>
                                <th>Sections</th>
                                <th>Day & Time</th>
                                <th>Room</th>
                                <th>Instructor</th>
                                <th>Duration</th>
                            </tr>
                        </thead>
                        <tbody id="timetableBody">
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="dayView" class="day-view" style="display: none;">
                <div id="dayViewContent"></div>
            </div>

            <div id="gridView" class="grid-view" style="display: none;">
                <div id="gridViewContent"></div>
            </div>

            <div class="timetable-stats">
                <div id="timetableStats"></div>
            </div>
        </div>

        <footer>
            <p>CSP-based timetable generation with academic structure constraints</p>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx-js-style@1.2.0/dist/xlsx.bundle.js"></script>
    <script src="app.js?v=4"></script>
</body>

</html>
